<!DOCTYPE html>
<html>
<head>
    <title>Muted Autoplay Workaround</title>
</head>
<body>
    <h1>ðŸŽµ Muted Autoplay Workaround ðŸŽµ</h1>
    <p>The audio will play automatically. If it doesn't, click anywhere to start the audio.</p>
    <audio id="audioElement" style="display: none;"></audio>

    <script>
        // List of local audio files
        const audioFiles = [
            'music/UCLA.mp3',
            // Add more files if necessary
        ];

        const audioElement = document.getElementById('audioElement');

        // Function to select a random audio file
        function selectRandomAudio() {
            const randomIndex = Math.floor(Math.random() * audioFiles.length);
            return audioFiles[randomIndex];
        }

        // Function to play audio muted first, then unmute
        async function playAudioMutedFirst() {
            // Set the audio source to a random file
            audioElement.src = selectRandomAudio();
            audioElement.muted = true; // Start playback muted

            try {
                // Attempt to autoplay
                await audioElement.play();
                console.log('Muted autoplay successful.');
                audioElement.muted = false; // Unmute after playback starts
            } catch (error) {
                console.warn('Muted autoplay failed:', error);

                // If autoplay fails, show a message prompting for user interaction
                document.body.addEventListener('click', resumeAudioAfterInteraction, { once: true });
                alert('Click anywhere to start the audio.');
            }
        }

        // Function to resume audio after user interaction
        async function resumeAudioAfterInteraction() {
            try {
                await audioElement.play();
                console.log('Audio resumed successfully after interaction.');
            } catch (error) {
                console.error('Failed to resume audio:', error);
            }
        }

        // Attempt muted autoplay on page load
        window.addEventListener('load', playAudioMutedFirst);
    </script>
</body>
</html>
